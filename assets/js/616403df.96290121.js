"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[3943],{8453:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>o});var r=i(6540);const s={},t=r.createContext(s);function l(n){const e=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),r.createElement(t.Provider,{value:e},n.children)}},9303:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"05-unity-robotics-hub","title":"Chapter 5: Unity Robotics Hub","description":"\\"Unity brings photorealism to robotics\u2014where Gazebo shows you physics, Unity shows you reality.\\"","source":"@site/docs/05-unity-robotics-hub.mdx","sourceDirName":".","slug":"/05-unity-robotics-hub","permalink":"/physical-ai-textbook/docs/05-unity-robotics-hub","draft":false,"unlisted":false,"editUrl":"https://github.com/Shumailaaijaz/physical-ai-textbook/tree/main/docs/05-unity-robotics-hub.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"05-unity-robotics-hub","title":"Chapter 5: Unity Robotics Hub","sidebar_position":5,"part":2,"week":7,"difficulty_levels":["intermediate"],"hardware_tracks":["simulation_only","budget_hardware","research_grade"],"citation_count":8,"word_count":6500,"urdu_completeness":0},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 4: Gazebo Simulation","permalink":"/physical-ai-textbook/docs/04-gazebo-simulation"},"next":{"title":"Chapter 6: NVIDIA Isaac Sim Basics","permalink":"/physical-ai-textbook/docs/06-isaac-sim-basics"}}');var s=i(4848),t=i(8453);const l={id:"05-unity-robotics-hub",title:"Chapter 5: Unity Robotics Hub",sidebar_position:5,part:2,week:7,difficulty_levels:["intermediate"],hardware_tracks:["simulation_only","budget_hardware","research_grade"],citation_count:8,word_count:6500,urdu_completeness:0},o="Chapter 5: Unity Robotics Hub",c={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"5.1 Introduction: Why Unity?",id:"51-introduction-why-unity",level:2},{value:"5.1.1 Unity vs Gazebo",id:"511-unity-vs-gazebo",level:3},{value:"5.1.2 Use Cases",id:"512-use-cases",level:3},{value:"5.2 Unity Robotics Hub Overview",id:"52-unity-robotics-hub-overview",level:2},{value:"5.3 Installing Unity on Windows (Native!)",id:"53-installing-unity-on-windows-native",level:2},{value:"5.4 Setting Up Unity Robotics Hub",id:"54-setting-up-unity-robotics-hub",level:2},{value:"5.4.1 Install ROS-TCP-Connector (Unity Side)",id:"541-install-ros-tcp-connector-unity-side",level:3},{value:"5.4.2 Install ROS-TCP-Endpoint (ROS 2 Side)",id:"542-install-ros-tcp-endpoint-ros-2-side",level:3},{value:"5.4.3 Configure Connection",id:"543-configure-connection",level:3},{value:"5.5 Your First Unity-ROS 2 Project",id:"55-your-first-unity-ros-2-project",level:2},{value:"5.5.1 Create Unity Scene",id:"551-create-unity-scene",level:3},{value:"5.5.2 Create C# Script to Subscribe to <code>/cmd_vel</code>",id:"552-create-c-script-to-subscribe-to-cmd_vel",level:3},{value:"5.5.3 Test",id:"553-test",level:3},{value:"5.6 Importing URDF into Unity",id:"56-importing-urdf-into-unity",level:2},{value:"5.6.1 Install URDF Importer",id:"561-install-urdf-importer",level:3},{value:"5.6.2 Import Robot",id:"562-import-robot",level:3},{value:"5.6.3 Configure Articulation Body",id:"563-configure-articulation-body",level:3},{value:"5.7 Publishing Camera Images to ROS",id:"57-publishing-camera-images-to-ros",level:2},{value:"5.7.1 Add Camera",id:"571-add-camera",level:3},{value:"5.7.2 Create Camera Publisher Script",id:"572-create-camera-publisher-script",level:3},{value:"5.8 High-Fidelity Environments",id:"58-high-fidelity-environments",level:2},{value:"5.8.1 Using Asset Store",id:"581-using-asset-store",level:3},{value:"5.8.2 ProBuilder (Built-In Modeling)",id:"582-probuilder-built-in-modeling",level:3},{value:"5.8.3 Lighting for Photorealism",id:"583-lighting-for-photorealism",level:3},{value:"5.9 Human-Robot Interaction",id:"59-human-robot-interaction",level:2},{value:"5.9.1 Animated Human Models",id:"591-animated-human-models",level:3},{value:"5.9.2 Social Navigation Scenario",id:"592-social-navigation-scenario",level:3},{value:"5.10 Synthetic Data Generation",id:"510-synthetic-data-generation",level:2},{value:"5.10.1 Unity Perception Package",id:"5101-unity-perception-package",level:3},{value:"5.10.2 Capture RGB + Segmentation",id:"5102-capture-rgb--segmentation",level:3},{value:"5.10.3 Domain Randomization",id:"5103-domain-randomization",level:3},{value:"5.10.4 Generate Dataset",id:"5104-generate-dataset",level:3},{value:"5.11 Unity ML-Agents (Preview)",id:"511-unity-ml-agents-preview",level:2},{value:"5.12 Unity vs Gazebo: Decision Matrix",id:"512-unity-vs-gazebo-decision-matrix",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Exercise 5.1: URDF Import and Control",id:"exercise-51-urdf-import-and-control",level:3},{value:"Exercise 5.2: Kitchen Scene + Object Detection",id:"exercise-52-kitchen-scene--object-detection",level:3},{value:"Exercise 5.3: Social Navigation",id:"exercise-53-social-navigation",level:3},{value:"Citations",id:"citations",level:2},{value:"Hardware Requirements",id:"hardware-requirements",level:2},{value:"Lab",id:"lab",level:2}];function a(n){const e={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components},{Details:i}=e;return i||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"chapter-5-unity-robotics-hub",children:"Chapter 5: Unity Robotics Hub"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.em,{children:'"Unity brings photorealism to robotics\u2014where Gazebo shows you physics, Unity shows you reality."'})}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(e.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Set up Unity"})," for robotics simulation"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Connect Unity to ROS 2"})," via TCP endpoint"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Import robot models"})," (URDF) into Unity"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Create high-fidelity environments"})," for human-robot interaction"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Generate synthetic training data"})," (images, depth, segmentation)"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Estimated Time"}),": 6-8 hours (reading + labs)"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"51-introduction-why-unity",children:"5.1 Introduction: Why Unity?"}),"\n",(0,s.jsx)(e.p,{children:"Gazebo is excellent for physics and navigation, but has limitations:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Graphics"}),": Basic rendering (no shadows, reflections, or advanced lighting)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Environments"}),": Sparse model library"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Human interaction"}),": Limited support for animated humans"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Unity"})," is a game engine (think Fortnite, Pokemon GO) repurposed for robotics:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Photorealistic rendering"}),": RTX ray tracing, global illumination"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Massive asset library"}),": 100,000+ pre-made 3D models (furniture, buildings, humans)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"VR/AR support"}),": Test human-robot interaction in immersive environments"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"511-unity-vs-gazebo",children:"5.1.1 Unity vs Gazebo"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Feature"}),(0,s.jsx)(e.th,{children:"Gazebo"}),(0,s.jsx)(e.th,{children:"Unity"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Physics"})}),(0,s.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50 (ODE, Bullet)"}),(0,s.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50 (PhysX 4)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Graphics"})}),(0,s.jsx)(e.td,{children:"\u2b50\u2b50 (OpenGL)"}),(0,s.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50 (HDRP, ray tracing)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"ROS Integration"})}),(0,s.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50 (Native)"}),(0,s.jsx)(e.td,{children:"\u2b50\u2b50\u2b50 (TCP bridge)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Ease of Use"})}),(0,s.jsx)(e.td,{children:"\u2b50\u2b50\u2b50 (SDF/URDF)"}),(0,s.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50 (GUI drag-and-drop)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Platform"})}),(0,s.jsx)(e.td,{children:"Linux primary"}),(0,s.jsx)(e.td,{children:"Windows, macOS, Linux"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Cost"})}),(0,s.jsx)(e.td,{children:"Free (open-source)"}),(0,s.jsx)(e.td,{children:"Free (Personal), Paid (Pro)"})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Best practices"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Gazebo"}),": Navigation, manipulation, physics-critical tasks"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Unity"}),": Vision training, HRI, photorealistic visualization"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"512-use-cases",children:"5.1.2 Use Cases"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Synthetic data generation"}),": Train YOLOv8 on 100,000 Unity-generated images (no manual labeling)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Human-robot interaction"}),": Simulate robots navigating crowded cafes"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Visualization"}),": Create demos for stakeholders (investors, customers)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"VR teleoperation"}),": Control robots in VR (real-time feedback)"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"52-unity-robotics-hub-overview",children:"5.2 Unity Robotics Hub Overview"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Unity Robotics Hub"})," is Unity's official ROS integration. It consists of:"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS-TCP-Connector"})," (Unity plugin): Connects Unity to ROS via TCP"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS-TCP-Endpoint"})," (ROS package): ROS 2 node that bridges topics/services"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"URDF Importer"}),": Load robot models into Unity"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Articulation Body"}),": Unity's physics system for robots"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Architecture"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     TCP (port 10000)     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502    Unity     \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502   ROS 2      \u2502\r\n\u2502  (Simulator) \u2502     JSON messages        \u2502  (Control)   \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n     \u2502                                            \u2502\r\n     \u2502 Publishes: /camera/image                  \u2502 Publishes: /cmd_vel\r\n     \u2502 Subscribes: /cmd_vel                      \u2502 Subscribes: /camera/image\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"53-installing-unity-on-windows-native",children:"5.3 Installing Unity on Windows (Native!)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Advantage"}),": Unity runs ",(0,s.jsx)(e.strong,{children:"natively on Windows"}),"\u2014no Docker, no WSL2 needed!"]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:"Click to expand: Unity Installation"}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 1: Install Unity Hub"})}),(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Download: ",(0,s.jsx)(e.a,{href:"https://unity.com/download",children:"https://unity.com/download"})]}),"\n",(0,s.jsx)(e.li,{children:"Install Unity Hub (launcher for Unity versions)"}),"\n",(0,s.jsx)(e.li,{children:"Create a Unity account (free)"}),"\n"]}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 2: Install Unity Editor"})}),(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Open Unity Hub"}),"\n",(0,s.jsx)(e.li,{children:"Installs \u2192 Add \u2192 Install Unity Editor"}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Recommended version"}),": ",(0,s.jsx)(e.strong,{children:"Unity 2022.3 LTS"})," (Long Term Support)"]}),"\n",(0,s.jsxs)(e.li,{children:["Select modules:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Windows Build Support"})," (IL2CPP)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Linux Build Support"})," (for deploying to edge devices)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Visual Studio"})," (for C# editing)"]}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Installation time"}),": ~20 minutes (8 GB download)"]}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Step 3: Verify Installation"})}),(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Unity Hub \u2192 Projects \u2192 New Project"}),"\n",(0,s.jsxs)(e.li,{children:["Template: ",(0,s.jsx)(e.strong,{children:"3D Core"})]}),"\n",(0,s.jsxs)(e.li,{children:["Project name: ",(0,s.jsx)(e.code,{children:"RoboticsTest"})]}),"\n",(0,s.jsx)(e.li,{children:"Create \u2192 Unity Editor opens"}),"\n"]}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Success!"})," You see Unity's interface (Scene view, Game view, Inspector)."]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"54-setting-up-unity-robotics-hub",children:"5.4 Setting Up Unity Robotics Hub"}),"\n",(0,s.jsx)(e.h3,{id:"541-install-ros-tcp-connector-unity-side",children:"5.4.1 Install ROS-TCP-Connector (Unity Side)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Method 1: Package Manager"})," (Recommended)"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Open Unity Editor"}),"\n",(0,s.jsx)(e.li,{children:"Window \u2192 Package Manager"}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"+"})," \u2192 Add package from git URL"]}),"\n",(0,s.jsxs)(e.li,{children:["Enter:","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"https://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.ros-tcp-connector\n"})}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:'Click "Add" \u2192 Package installs (2 minutes)'}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Method 2: Manual Install"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Download: ",(0,s.jsx)(e.a,{href:"https://github.com/Unity-Technologies/Unity-Robotics-Hub/releases",children:"https://github.com/Unity-Technologies/Unity-Robotics-Hub/releases"})]}),"\n",(0,s.jsxs)(e.li,{children:["Extract to ",(0,s.jsx)(e.code,{children:"Packages/"})," folder in your Unity project"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"542-install-ros-tcp-endpoint-ros-2-side",children:"5.4.2 Install ROS-TCP-Endpoint (ROS 2 Side)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Inside Docker/WSL2:\r\ncd ~/ros2_ws/src\r\ngit clone https://github.com/Unity-Technologies/ROS-TCP-Endpoint.git\r\n\r\n# Build\r\ncd ~/ros2_ws\r\ncolcon build --packages-select ros_tcp_endpoint\r\nsource install/setup.bash\n"})}),"\n",(0,s.jsx)(e.h3,{id:"543-configure-connection",children:"5.4.3 Configure Connection"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"In Unity"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Robotics \u2192 ROS Settings"}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS IP Address"}),": ",(0,s.jsx)(e.code,{children:"127.0.0.1"})," (localhost)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS Port"}),": ",(0,s.jsx)(e.code,{children:"10000"})," (default)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Protocol"}),": ROS 2"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Launch ROS endpoint"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=0.0.0.0\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Expected output"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"[INFO] [ros_tcp_endpoint]: Starting server on 0.0.0.0:10000\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Test connection"}),': Unity Editor \u2192 Robotics \u2192 ROS Settings \u2192 "Connect" button turns green.']}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"55-your-first-unity-ros-2-project",children:"5.5 Your First Unity-ROS 2 Project"}),"\n",(0,s.jsxs)(e.p,{children:["Let's create a simple scene with a sphere that moves based on ROS ",(0,s.jsx)(e.code,{children:"/cmd_vel"})," commands."]}),"\n",(0,s.jsx)(e.h3,{id:"551-create-unity-scene",children:"5.5.1 Create Unity Scene"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Create scene"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"File \u2192 New Scene \u2192 3D Core"}),"\n",(0,s.jsxs)(e.li,{children:["Save as ",(0,s.jsx)(e.code,{children:"RoboticsScene"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Add ground plane"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Right-click in Hierarchy \u2192 3D Object \u2192 Plane"}),"\n",(0,s.jsx)(e.li,{children:"Transform: Position (0, 0, 0), Scale (10, 1, 10)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Add robot (sphere)"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Right-click in Hierarchy \u2192 3D Object \u2192 Sphere"}),"\n",(0,s.jsx)(e.li,{children:'Rename to "Robot"'}),"\n",(0,s.jsx)(e.li,{children:"Transform: Position (0, 0.5, 0)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Add physics"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Select Robot"}),"\n",(0,s.jsx)(e.li,{children:"Inspector \u2192 Add Component \u2192 Rigidbody"}),"\n",(0,s.jsx)(e.li,{children:"Mass: 1, Drag: 0.5, Angular Drag: 0.5"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"552-create-c-script-to-subscribe-to-cmd_vel",children:["5.5.2 Create C# Script to Subscribe to ",(0,s.jsx)(e.code,{children:"/cmd_vel"})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Create script"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Right-click in Project panel \u2192 Create \u2192 C# Script"}),"\n",(0,s.jsxs)(e.li,{children:["Name: ",(0,s.jsx)(e.code,{children:"RobotController"})]}),"\n",(0,s.jsx)(e.li,{children:"Double-click to open in Visual Studio"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Code"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Geometry;\r\n\r\npublic class RobotController : MonoBehaviour\r\n{\r\n    private ROSConnection ros;\r\n    private Rigidbody rb;\r\n\r\n    // Movement parameters\r\n    public float forceMultiplier = 10f;\r\n    public float torqueMultiplier = 10f;\r\n\r\n    void Start()\r\n    {\r\n        // Get ROS connection instance\r\n        ros = ROSConnection.GetOrCreateInstance();\r\n        ros.RegisterRosService<Empty>("ping");  // Test service\r\n\r\n        // Subscribe to /cmd_vel\r\n        ros.Subscribe<TwistMsg>("/cmd_vel", ApplyVelocityCommand);\r\n\r\n        // Get Rigidbody component\r\n        rb = GetComponent<Rigidbody>();\r\n\r\n        Debug.Log("RobotController: Subscribed to /cmd_vel");\r\n    }\r\n\r\n    void ApplyVelocityCommand(TwistMsg twist)\r\n    {\r\n        // Extract velocity commands\r\n        float linearX = (float)twist.linear.x;\r\n        float angularZ = (float)twist.angular.z;\r\n\r\n        // Apply force (forward/backward)\r\n        Vector3 force = transform.forward * linearX * forceMultiplier;\r\n        rb.AddForce(force, ForceMode.Force);\r\n\r\n        // Apply torque (turning)\r\n        Vector3 torque = Vector3.up * angularZ * torqueMultiplier;\r\n        rb.AddTorque(torque, ForceMode.Force);\r\n\r\n        Debug.Log($"Received cmd_vel: linear.x={linearX}, angular.z={angularZ}");\r\n    }\r\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Attach script to Robot"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:'Select "Robot" in Hierarchy'}),"\n",(0,s.jsxs)(e.li,{children:["Drag ",(0,s.jsx)(e.code,{children:"RobotController"})," script onto Robot"]}),"\n",(0,s.jsxs)(e.li,{children:["Inspector: Set ",(0,s.jsx)(e.code,{children:"Force Multiplier"})," = 10, ",(0,s.jsx)(e.code,{children:"Torque Multiplier"})," = 10"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"553-test",children:"5.5.3 Test"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Terminal 1: Start ROS endpoint"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=0.0.0.0\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Terminal 2: Publish velocity"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'ros2 topic pub /cmd_vel geometry_msgs/Twist \\\r\n  "linear: {x: 1.0, y: 0.0, z: 0.0}\r\n   angular: {x: 0.0, y: 0.0, z: 0.0}"\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Unity Editor"}),": Press ",(0,s.jsx)(e.strong,{children:"Play"})," button \u2192 Sphere moves forward!"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"56-importing-urdf-into-unity",children:"5.6 Importing URDF into Unity"}),"\n",(0,s.jsx)(e.p,{children:"Unity can import robot URDF files directly."}),"\n",(0,s.jsx)(e.h3,{id:"561-install-urdf-importer",children:"5.6.1 Install URDF Importer"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Package Manager \u2192 Add from git URL:","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"https://github.com/Unity-Technologies/URDF-Importer.git?path=/com.unity.robotics.urdf-importer\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"562-import-robot",children:"5.6.2 Import Robot"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example: TurtleBot3"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Download TurtleBot3 URDF:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"git clone https://github.com/ROBOTIS-GIT/turtlebot3.git\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"In Unity:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Assets \u2192 Import Robot from URDF"}),"\n",(0,s.jsxs)(e.li,{children:["Browse to ",(0,s.jsx)(e.code,{children:"turtlebot3_description/urdf/turtlebot3_burger.urdf"})]}),"\n",(0,s.jsxs)(e.li,{children:["Import Settings:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Axis Type: Y-Up (Unity default)"}),"\n",(0,s.jsx)(e.li,{children:"Mesh Decomposer: VHACD (for collision)"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:'Click "Import"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Result"}),": TurtleBot3 appears in scene with all joints, links, sensors."]}),"\n",(0,s.jsx)(e.h3,{id:"563-configure-articulation-body",children:"5.6.3 Configure Articulation Body"}),"\n",(0,s.jsxs)(e.p,{children:["Unity's ",(0,s.jsx)(e.strong,{children:"Articulation Body"})," component handles robot physics."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Hierarchy after import"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"turtlebot3_burger\r\n\u251c\u2500\u2500 base_link (Articulation Body)\r\n\u251c\u2500\u2500 wheel_left_link (Articulation Body)\r\n\u251c\u2500\u2500 wheel_right_link (Articulation Body)\r\n\u2514\u2500\u2500 camera_link\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Joint types map"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["URDF ",(0,s.jsx)(e.code,{children:"revolute"})," \u2192 Unity ",(0,s.jsx)(e.code,{children:"Revolute"})]}),"\n",(0,s.jsxs)(e.li,{children:["URDF ",(0,s.jsx)(e.code,{children:"prismatic"})," \u2192 Unity ",(0,s.jsx)(e.code,{children:"Prismatic"})]}),"\n",(0,s.jsxs)(e.li,{children:["URDF ",(0,s.jsx)(e.code,{children:"fixed"})," \u2192 Unity ",(0,s.jsx)(e.code,{children:"Fixed"})]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"57-publishing-camera-images-to-ros",children:"5.7 Publishing Camera Images to ROS"}),"\n",(0,s.jsx)(e.p,{children:"Let's add a camera to the robot and publish RGB images to ROS."}),"\n",(0,s.jsx)(e.h3,{id:"571-add-camera",children:"5.7.1 Add Camera"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:'Right-click on robot \u2192 Create Empty \u2192 Rename "CameraMount"'}),"\n",(0,s.jsx)(e.li,{children:"Transform: Position (0, 0.5, 0.2) (0.2m forward from center)"}),"\n",(0,s.jsx)(e.li,{children:"Right-click CameraMount \u2192 Camera"}),"\n",(0,s.jsxs)(e.li,{children:["Camera settings:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Field of View: 60"}),"\n",(0,s.jsx)(e.li,{children:"Clipping Planes: Near 0.1, Far 100"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"572-create-camera-publisher-script",children:"5.7.2 Create Camera Publisher Script"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'using UnityEngine;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Sensor;\r\nusing Unity.Robotics.ROSTCPConnector.MessageGeneration;\r\n\r\npublic class CameraPublisher : MonoBehaviour\r\n{\r\n    private ROSConnection ros;\r\n    private Camera cam;\r\n\r\n    public string topicName = "/camera/image_raw";\r\n    public float publishRate = 10f;  // Hz\r\n\r\n    private float timer;\r\n    private RenderTexture renderTexture;\r\n\r\n    void Start()\r\n    {\r\n        ros = ROSConnection.GetOrCreateInstance();\r\n        ros.RegisterPublisher<ImageMsg>(topicName);\r\n\r\n        cam = GetComponent<Camera>();\r\n\r\n        // Create render texture\r\n        renderTexture = new RenderTexture(640, 480, 24);\r\n        cam.targetTexture = renderTexture;\r\n\r\n        timer = 1f / publishRate;\r\n    }\r\n\r\n    void Update()\r\n    {\r\n        timer -= Time.deltaTime;\r\n\r\n        if (timer <= 0)\r\n        {\r\n            timer = 1f / publishRate;\r\n            PublishImage();\r\n        }\r\n    }\r\n\r\n    void PublishImage()\r\n    {\r\n        // Render camera to texture\r\n        RenderTexture.active = renderTexture;\r\n        Texture2D texture = new Texture2D(renderTexture.width, renderTexture.height, TextureFormat.RGB24, false);\r\n        texture.ReadPixels(new Rect(0, 0, renderTexture.width, renderTexture.height), 0, 0);\r\n        texture.Apply();\r\n\r\n        // Convert to ROS message\r\n        ImageMsg msg = new ImageMsg\r\n        {\r\n            header = new RosMessageTypes.Std.HeaderMsg\r\n            {\r\n                stamp = new RosMessageTypes.BuiltinInterfaces.TimeMsg\r\n                {\r\n                    sec = (int)Time.time,\r\n                    nanosec = (uint)((Time.time % 1) * 1e9)\r\n                },\r\n                frame_id = "camera_link"\r\n            },\r\n            height = (uint)texture.height,\r\n            width = (uint)texture.width,\r\n            encoding = "rgb8",\r\n            is_bigendian = 0,\r\n            step = (uint)(texture.width * 3),\r\n            data = texture.GetRawTextureData()\r\n        };\r\n\r\n        ros.Publish(topicName, msg);\r\n    }\r\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Attach script"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Select Camera object"}),"\n",(0,s.jsx)(e.li,{children:"Add Component \u2192 Camera Publisher"}),"\n",(0,s.jsxs)(e.li,{children:["Topic Name: ",(0,s.jsx)(e.code,{children:"/camera/image_raw"})]}),"\n",(0,s.jsx)(e.li,{children:"Publish Rate: 10"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Test"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# View images in RViz\r\nros2 run rqt_image_view rqt_image_view /camera/image_raw\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"58-high-fidelity-environments",children:"5.8 High-Fidelity Environments"}),"\n",(0,s.jsx)(e.p,{children:"Unity's strength is creating realistic scenes."}),"\n",(0,s.jsx)(e.h3,{id:"581-using-asset-store",children:"5.8.1 Using Asset Store"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Unity Asset Store"}),": 100,000+ free and paid 3D models."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example: Kitchen Environment"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Unity Editor \u2192 Window \u2192 Asset Store"}),"\n",(0,s.jsx)(e.li,{children:'Search "Kitchen"'}),"\n",(0,s.jsx)(e.li,{children:'Download free asset pack (e.g., "Modular Kitchen")'}),"\n",(0,s.jsx)(e.li,{children:"Import into project"}),"\n",(0,s.jsx)(e.li,{children:"Drag prefabs into scene"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"582-probuilder-built-in-modeling",children:"5.8.2 ProBuilder (Built-In Modeling)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"ProBuilder"}),": Build geometry directly in Unity (like Blender, but simpler)."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Create a room"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:'Window \u2192 Package Manager \u2192 Search "ProBuilder" \u2192 Install'}),"\n",(0,s.jsx)(e.li,{children:"Tools \u2192 ProBuilder \u2192 ProBuilder Window"}),"\n",(0,s.jsx)(e.li,{children:"New Shape \u2192 Cube \u2192 Draw room walls (4 cubes arranged as walls)"}),"\n",(0,s.jsx)(e.li,{children:"Apply materials (wood, concrete, etc.)"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"583-lighting-for-photorealism",children:"5.8.3 Lighting for Photorealism"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"High Definition Render Pipeline (HDRP)"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Window \u2192 Rendering \u2192 Lighting"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Skybox: HDR skybox (search Asset Store for free HDRI images)"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Add lights:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Directional Light (sun)"}),"\n",(0,s.jsx)(e.li,{children:"Point Lights (lamps)"}),"\n",(0,s.jsx)(e.li,{children:"Spotlights (ceiling lights)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Global Illumination"}),": Enable bounce lighting (realistic shadows)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"59-human-robot-interaction",children:"5.9 Human-Robot Interaction"}),"\n",(0,s.jsx)(e.h3,{id:"591-animated-human-models",children:"5.9.1 Animated Human Models"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Source"}),": Mixamo (Adobe's free character library)"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Steps"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Download character from Mixamo: ",(0,s.jsx)(e.a,{href:"https://www.mixamo.com/",children:"https://www.mixamo.com/"})]}),"\n",(0,s.jsx)(e.li,{children:'Select "T-Pose" FBX'}),"\n",(0,s.jsx)(e.li,{children:"Import to Unity"}),"\n",(0,s.jsxs)(e.li,{children:["Add Animation Controller:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Window \u2192 Animation \u2192 Animator"}),"\n",(0,s.jsx)(e.li,{children:"Create new Animator Controller"}),"\n",(0,s.jsx)(e.li,{children:"Add animations (walk, idle, wave)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"592-social-navigation-scenario",children:"5.9.2 Social Navigation Scenario"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Goal"}),": Robot navigates around humans."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Setup"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Place 5 animated humans in scene (walking in random directions)"}),"\n",(0,s.jsx)(e.li,{children:"Add Nav Mesh Agent to humans (Unity's pathfinding AI)"}),"\n",(0,s.jsxs)(e.li,{children:["Robot subscribes to ",(0,s.jsx)(e.code,{children:"/cmd_vel"})," and must avoid humans"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Code snippet (human waypoint navigation)"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"using UnityEngine;\r\nusing UnityEngine.AI;\r\n\r\npublic class HumanWalker : MonoBehaviour\r\n{\r\n    private NavMeshAgent agent;\r\n    public Transform[] waypoints;\r\n    private int currentWaypoint = 0;\r\n\r\n    void Start()\r\n    {\r\n        agent = GetComponent<NavMeshAgent>();\r\n        agent.SetDestination(waypoints[0].position);\r\n    }\r\n\r\n    void Update()\r\n    {\r\n        if (!agent.pathPending && agent.remainingDistance < 0.5f)\r\n        {\r\n            // Reached waypoint, go to next\r\n            currentWaypoint = (currentWaypoint + 1) % waypoints.Length;\r\n            agent.SetDestination(waypoints[currentWaypoint].position);\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"510-synthetic-data-generation",children:"5.10 Synthetic Data Generation"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Goal"}),": Generate labeled datasets for training ML models."]}),"\n",(0,s.jsx)(e.h3,{id:"5101-unity-perception-package",children:"5.10.1 Unity Perception Package"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Install"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Package Manager \u2192 Add from git URL:","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"https://github.com/Unity-Technologies/com.unity.perception.git\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"5102-capture-rgb--segmentation",children:"5.10.2 Capture RGB + Segmentation"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Setup"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Add Perception Camera:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Select camera \u2192 Add Component \u2192 Perception Camera"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Configure captures:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"RGB: Enable"}),"\n",(0,s.jsx)(e.li,{children:"Semantic Segmentation: Enable"}),"\n",(0,s.jsx)(e.li,{children:"Bounding Boxes: Enable"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Create labeling configuration:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Assets \u2192 Create \u2192 Perception \u2192 ID Label Config"}),"\n",(0,s.jsx)(e.li,{children:'Add labels: "robot", "table", "chair", "human"'}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Tag objects:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Select object \u2192 Add Component \u2192 Labeling"}),"\n",(0,s.jsx)(e.li,{children:'Add Label: "table"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"5103-domain-randomization",children:"5.10.3 Domain Randomization"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Randomize every frame"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Object positions"}),"\n",(0,s.jsx)(e.li,{children:"Object rotations"}),"\n",(0,s.jsx)(e.li,{children:"Lighting (intensity, color)"}),"\n",(0,s.jsx)(e.li,{children:"Textures (swap materials)"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Script"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"using UnityEngine;\r\nusing UnityEngine.Perception.Randomization.Samplers;\r\n\r\npublic class DomainRandomizer : MonoBehaviour\r\n{\r\n    public GameObject[] objectsToRandomize;\r\n    public Material[] materials;\r\n\r\n    private UniformSampler positionSampler = new UniformSampler(-5f, 5f);\r\n    private UniformSampler rotationSampler = new UniformSampler(0f, 360f);\r\n\r\n    void Update()\r\n    {\r\n        foreach (GameObject obj in objectsToRandomize)\r\n        {\r\n            // Randomize position\r\n            obj.transform.position = new Vector3(\r\n                positionSampler.Sample(),\r\n                obj.transform.position.y,\r\n                positionSampler.Sample()\r\n            );\r\n\r\n            // Randomize rotation\r\n            obj.transform.rotation = Quaternion.Euler(0, rotationSampler.Sample(), 0);\r\n\r\n            // Randomize material\r\n            obj.GetComponent<Renderer>().material = materials[Random.Range(0, materials.Length)];\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"5104-generate-dataset",children:"5.10.4 Generate Dataset"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Run simulation"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Set Perception Camera \u2192 Frames Per Iteration: 10,000"}),"\n",(0,s.jsxs)(e.li,{children:["Play \u2192 Unity captures 10,000 images with:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"RGB images"}),"\n",(0,s.jsx)(e.li,{children:"Semantic segmentation masks"}),"\n",(0,s.jsx)(e.li,{children:"Bounding boxes (JSON)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Output"})," (saved to ",(0,s.jsx)(e.code,{children:"{Project}/Perception/"}),"):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Dataset/\r\n\u251c\u2500\u2500 RGB/\r\n\u2502   \u251c\u2500\u2500 00001.png\r\n\u2502   \u251c\u2500\u2500 00002.png\r\n\u2502   \u2514\u2500\u2500 ...\r\n\u251c\u2500\u2500 Segmentation/\r\n\u2502   \u251c\u2500\u2500 00001.png (colored masks)\r\n\u2502   \u2514\u2500\u2500 ...\r\n\u2514\u2500\u2500 annotations.json (COCO format)\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Use for training"}),": Train YOLOv8, Mask R-CNN, etc."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"511-unity-ml-agents-preview",children:"5.11 Unity ML-Agents (Preview)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Unity ML-Agents"}),": Train RL policies directly in Unity."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example"}),": Train quadruped to walk."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"High-level process"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Define observation space (joint angles, torso orientation)"}),"\n",(0,s.jsx)(e.li,{children:"Define action space (joint torques)"}),"\n",(0,s.jsx)(e.li,{children:"Define reward function (forward velocity, upright posture)"}),"\n",(0,s.jsx)(e.li,{children:"Train with PPO algorithm (PyTorch backend)"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Integration with ROS"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Actions from RL policy \u2192 Publish to ROS ",(0,s.jsx)(e.code,{children:"/joint_commands"})]}),"\n",(0,s.jsx)(e.li,{children:"Observations from ROS sensors \u2192 Input to policy"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Reference"}),": ",(0,s.jsx)(e.a,{href:"https://github.com/Unity-Technologies/ml-agents",children:"https://github.com/Unity-Technologies/ml-agents"})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"512-unity-vs-gazebo-decision-matrix",children:"5.12 Unity vs Gazebo: Decision Matrix"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Use Unity When..."}),(0,s.jsx)(e.th,{children:"Use Gazebo When..."})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Training vision models (need labeled data)"}),(0,s.jsx)(e.td,{children:"Testing navigation algorithms"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Creating demos for non-technical stakeholders"}),(0,s.jsx)(e.td,{children:"Rapid prototyping (URDF \u2192 spawn in seconds)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Simulating human-robot interaction"}),(0,s.jsx)(e.td,{children:"Physics-critical tasks (grasping, bipedal balance)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Deploying VR/AR teleoperation"}),(0,s.jsx)(e.td,{children:"Integrating with existing ROS pipelines"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Need photorealistic rendering"}),(0,s.jsx)(e.td,{children:"Need real-time factor > 1.0 (faster-than-real-time)"})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Recommendation"}),": Use ",(0,s.jsx)(e.strong,{children:"both"}),". Develop in Gazebo, visualize in Unity."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"exercises",children:"Exercises"}),"\n",(0,s.jsx)(e.h3,{id:"exercise-51-urdf-import-and-control",children:"Exercise 5.1: URDF Import and Control"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Goal"}),": Import a robot URDF into Unity, control joints via ROS."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Requirements"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Import ",(0,s.jsx)(e.code,{children:"simple_arm.urdf"})," (from Chapter 3)"]}),"\n",(0,s.jsxs)(e.li,{children:["Subscribe to ",(0,s.jsx)(e.code,{children:"/joint_commands"})," (sensor_msgs/JointState)"]}),"\n",(0,s.jsx)(e.li,{children:"Apply joint positions using Articulation Body"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Expected"}),": Robot arm moves when you publish joint commands."]}),"\n",(0,s.jsx)(e.h3,{id:"exercise-52-kitchen-scene--object-detection",children:"Exercise 5.2: Kitchen Scene + Object Detection"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Goal"}),": Create a kitchen scene, place 10 objects, capture 100 images with bounding boxes."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Requirements"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Download kitchen asset from Asset Store"}),"\n",(0,s.jsx)(e.li,{children:"Place objects (cups, plates, bottles)"}),"\n",(0,s.jsx)(e.li,{children:'Add labels ("cup", "plate", etc.)'}),"\n",(0,s.jsx)(e.li,{children:"Run Perception Camera for 100 frames"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Output"}),": 100 RGB images + annotations.json (COCO format)"]}),"\n",(0,s.jsx)(e.h3,{id:"exercise-53-social-navigation",children:"Exercise 5.3: Social Navigation"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Goal"}),": Robot avoids moving humans."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Requirements"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Add 3 animated humans (walking in circles)"}),"\n",(0,s.jsxs)(e.li,{children:["Robot subscribes to ",(0,s.jsx)(e.code,{children:"/cmd_vel"})]}),"\n",(0,s.jsx)(e.li,{children:"Implement obstacle avoidance (stop if human within 1m)"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Success criteria"}),": Robot navigates for 5 minutes without colliding with humans."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"citations",children:"Citations"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Unity Technologies. (2023). ",(0,s.jsx)(e.em,{children:"Unity Robotics Hub Documentation."})," ",(0,s.jsx)(e.a,{href:"https://github.com/Unity-Technologies/Unity-Robotics-Hub",children:"https://github.com/Unity-Technologies/Unity-Robotics-Hub"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Juliani, A., Berges, V. P., Teng, E., Cohen, A., Harper, J., Elion, C., ... & Lange, D. (2018). ",(0,s.jsx)(e.em,{children:"Unity: A general platform for intelligent agents."})," arXiv preprint arXiv:1809.02627."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Unity Technologies. (2023). ",(0,s.jsx)(e.em,{children:"Unity Perception Package."})," ",(0,s.jsx)(e.a,{href:"https://github.com/Unity-Technologies/com.unity.perception",children:"https://github.com/Unity-Technologies/com.unity.perception"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Tobin, J., Fong, R., Ray, A., Schneider, J., Zaremba, W., & Abbeel, P. (2017). ",(0,s.jsx)(e.em,{children:"Domain randomization for transferring deep neural networks from simulation to the real world."})," IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS), 23-30."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Tremblay, J., Prakash, A., Acuna, D., Brophy, M., Jampani, V., Anil, C., ... & Birchfield, S. (2018). ",(0,s.jsx)(e.em,{children:"Training deep networks with synthetic data: Bridging the reality gap by domain randomization."})," IEEE Conference on Computer Vision and Pattern Recognition Workshops (CVPRW), 969-977."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Unity Technologies. (2023). ",(0,s.jsx)(e.em,{children:"High Definition Render Pipeline (HDRP)."})," ",(0,s.jsx)(e.a,{href:"https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@latest",children:"https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@latest"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Adobe. (2023). ",(0,s.jsx)(e.em,{children:"Mixamo: Animated 3D Characters."})," ",(0,s.jsx)(e.a,{href:"https://www.mixamo.com/",children:"https://www.mixamo.com/"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Unity Technologies. (2023). ",(0,s.jsx)(e.em,{children:"ML-Agents Toolkit."})," ",(0,s.jsx)(e.a,{href:"https://github.com/Unity-Technologies/ml-agents",children:"https://github.com/Unity-Technologies/ml-agents"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"hardware-requirements",children:"Hardware Requirements"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Minimum"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"GPU"}),": NVIDIA GTX 1060 6GB OR AMD RX 580"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"RAM"}),": 8 GB"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Disk"}),": 20 GB free space"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Recommended"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"GPU"}),": NVIDIA RTX 3060 12GB (for real-time ray tracing)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"RAM"}),": 16 GB"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Disk"}),": 50 GB (for Asset Store assets)"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"For synthetic data generation"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"GPU"}),": RTX 3080 or better (batch rendering 10,000 images)"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"lab",children:"Lab"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Lab 5.1: Unity ROS Bridge + Teleoperation"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Repository"}),": ",(0,s.jsx)(e.a,{href:"https://github.com/Shumailaaijaz/physical-ai-labs",children:"github.com/Shumailaaijaz/physical-ai-labs"})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Lab Path"}),": ",(0,s.jsx)(e.code,{children:"labs/chapter-05-unity-tcp-connector/"})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"What's Included"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Unity project (pre-configured scene)"}),"\n",(0,s.jsx)(e.li,{children:"ROS 2 teleop node (keyboard control)"}),"\n",(0,s.jsx)(e.li,{children:"Camera publisher script"}),"\n",(0,s.jsx)(e.li,{children:"README with tasks"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"To Run"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Terminal 1: ROS endpoint\r\ncd labs/chapter-05-unity-tcp-connector/ros2_ws\r\nsource install/setup.bash\r\nros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=0.0.0.0\r\n\r\n# Terminal 2: Teleop\r\nros2 run teleop_twist_keyboard teleop_twist_keyboard\r\n\r\n# Unity: Open project, press Play\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Expected Result"}),": Control robot in Unity with keyboard, view camera feed in RViz."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Next Chapter"}),": ",(0,s.jsx)(e.a,{href:"/physical-ai-textbook/docs/06-isaac-sim-basics",children:"Chapter 6: NVIDIA Isaac Sim Basics \u2192"})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.em,{children:["This textbook is a living document. Found an error? Have a suggestion? Submit an issue or PR at ",(0,s.jsx)(e.a,{href:"https://github.com/Shumailaaijaz/physical-ai-textbook",children:"github.com/Shumailaaijaz/physical-ai-textbook"})]})})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}}}]);