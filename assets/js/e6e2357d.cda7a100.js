"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[3506],{54:(e,r,i)=>{i.d(r,{A:()=>l,O:()=>o});var s=i(6540),n=i(3223),t=i(4848);const a=(0,s.createContext)(void 0);function o({children:e}){const[r,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),[c,p]=(0,s.useState)(!0);async function h(e){try{const{data:r,error:s}=await n.N.from("personalization_profiles").select("*").eq("user_id",e).single();s?console.error("Error loading profile:",s):l(r),i({id:e})}catch(r){console.error("Error loading user data:",r)}finally{p(!1)}}(0,s.useEffect)(()=>{n.N.auth.getSession().then(({data:{session:e}})=>{u(e),e?.user?h(e.user.id):p(!1)});const{data:{subscription:e}}=n.N.auth.onAuthStateChange((e,r)=>{u(r),r?.user?h(r.user.id):(i(null),l(null),p(!1))});return()=>e.unsubscribe()},[]);const m={user:r,profile:o,session:d,loading:c,signIn:async function(e,r){const{data:i,error:s}=await n.N.auth.signInWithPassword({email:e,password:r});if(s)throw s;i.user&&await h(i.user.id)},signUp:async function(e,r,i){const{data:s,error:t}=await n.N.auth.signUp({email:e,password:r});if(t)throw t;if(s.user){const{error:e}=await n.N.from("personalization_profiles").insert({user_id:s.user.id,...i});e&&console.error("Error creating profile:",e),await n.N.from("sessions").insert({user_id:s.user.id,personalization_enabled:!1,language_preference:"en",last_active_at:(new Date).toISOString(),expires_at:new Date(Date.now()+6048e5).toISOString()}),await h(s.user.id)}},signOut:async function(){const{error:e}=await n.N.auth.signOut();if(e)throw e;i(null),l(null),u(null)},updateProfile:async function(e){if(!r)return;const{data:i,error:s}=await n.N.from("personalization_profiles").update({...e,updated_at:(new Date).toISOString()}).eq("user_id",r.id).select().single();if(s)throw console.error("Error updating profile:",s),s;l(i)}};return(0,t.jsx)(a.Provider,{value:m,children:e})}function l(){const e=(0,s.useContext)(a);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}},3223:(e,r,i)=>{i.d(r,{N:()=>o});var s=i(2578);const n=(e,r)=>"undefined"!=typeof process&&process.env&&process.env[e]||r,t=n("SUPABASE_URL","https://placeholder.supabase.co"),a=n("SUPABASE_ANON_KEY","placeholder-key");"undefined"!=typeof process&&process.env&&process.env.SUPABASE_URL&&process.env.SUPABASE_ANON_KEY||"undefined"==typeof window||console.warn("Supabase environment variables not set. Database features will be disabled.");const o=(0,s.UU)(t,a,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})},7229:(e,r,i)=>{i.d(r,{A:()=>s});const s={authForm:"authForm_WxR6",subtitle:"subtitle_xng4",formGroup:"formGroup_ul3Y",divider:"divider_bmWp",personalizeInfo:"personalizeInfo_hyeY",submitButton:"submitButton_XNI3",error:"error_J0pE",success:"success_fV5n",switchForm:"switchForm_b6rg"}},7897:(e,r,i)=>{i.r(r),i.d(r,{default:()=>d});var s=i(6540),n=i(2633),t=i(54),a=i(7229),o=i(4848);function l(){const{user:e,profile:r,loading:i,updateProfile:n}=(0,t.A)(),[l,d]=(0,s.useState)(!1),[u,c]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[m,g]=(0,s.useState)(null),[f,v]=(0,s.useState)(""),[x,b]=(0,s.useState)(""),[j,_]=(0,s.useState)(""),[y,S]=(0,s.useState)(""),[w,A]=(0,s.useState)("");if((0,s.useEffect)(()=>{r&&(v(r.python_skill||""),b(r.ros_experience||""),_(r.linux_familiarity||""),S(r.gpu_access||""),A(r.budget_tier||""))},[r]),i)return(0,o.jsx)("div",{style:{textAlign:"center",padding:"3rem"},children:"Loading..."});if(!e)return(0,o.jsxs)("div",{style:{textAlign:"center",padding:"3rem"},children:[(0,o.jsx)("h2",{children:"Please sign in to view your profile"}),(0,o.jsx)("a",{href:"/login",style:{color:"var(--ifm-color-primary)"},children:"Sign in here"})]});return(0,o.jsxs)("div",{className:a.A.authForm,children:[(0,o.jsx)("h2",{children:"Your Profile"}),p&&(0,o.jsx)("div",{style:{padding:"0.75rem",marginBottom:"1rem",backgroundColor:"var(--ifm-color-success-lightest)",color:"var(--ifm-color-success-darkest)",border:"1px solid var(--ifm-color-success-light)",borderRadius:"4px"},children:"\u2713 Profile updated successfully!"}),m&&(0,o.jsxs)("div",{className:a.A.error,children:["\u26a0\ufe0f ",m]}),(0,o.jsxs)("form",{onSubmit:async i=>{i.preventDefault(),c(!0),g(null),h(!1);try{await n({python_skill:f,ros_experience:x,linux_familiarity:j,gpu_access:y,budget_tier:w,user_id:e.id,created_at:r?.created_at||"",updated_at:(new Date).toISOString()}),h(!0),d(!1),setTimeout(()=>h(!1),3e3)}catch(s){g(s.message||"Failed to update profile")}finally{c(!1)}},children:[(0,o.jsxs)("div",{className:a.A.formGroup,children:[(0,o.jsx)("label",{children:"Python Programming Skill"}),l?(0,o.jsxs)("select",{value:f,onChange:e=>v(e.target.value),required:!0,children:[(0,o.jsx)("option",{value:"beginner",children:"Beginner"}),(0,o.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,o.jsx)("option",{value:"advanced",children:"Advanced"})]}):(0,o.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"var(--ifm-color-emphasis-100)",borderRadius:"4px"},children:f||"Not set"})]}),(0,o.jsxs)("div",{className:a.A.formGroup,children:[(0,o.jsx)("label",{children:"ROS / ROS 2 Experience"}),l?(0,o.jsxs)("select",{value:x,onChange:e=>b(e.target.value),required:!0,children:[(0,o.jsx)("option",{value:"none",children:"None"}),(0,o.jsx)("option",{value:"basic",children:"Basic"}),(0,o.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,o.jsx)("option",{value:"advanced",children:"Advanced"})]}):(0,o.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"var(--ifm-color-emphasis-100)",borderRadius:"4px"},children:x||"Not set"})]}),(0,o.jsxs)("div",{className:a.A.formGroup,children:[(0,o.jsx)("label",{children:"Linux / Command Line Familiarity"}),l?(0,o.jsxs)("select",{value:j,onChange:e=>_(e.target.value),required:!0,children:[(0,o.jsx)("option",{value:"none",children:"None"}),(0,o.jsx)("option",{value:"basic",children:"Basic"}),(0,o.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,o.jsx)("option",{value:"advanced",children:"Advanced"})]}):(0,o.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"var(--ifm-color-emphasis-100)",borderRadius:"4px"},children:j||"Not set"})]}),(0,o.jsxs)("div",{className:a.A.formGroup,children:[(0,o.jsx)("label",{children:"GPU Access"}),l?(0,o.jsxs)("select",{value:y,onChange:e=>S(e.target.value),required:!0,children:[(0,o.jsx)("option",{value:"none",children:"None (CPU only)"}),(0,o.jsx)("option",{value:"integrated",children:"Integrated GPU"}),(0,o.jsx)("option",{value:"dedicated_consumer",children:"Dedicated GPU (Consumer)"}),(0,o.jsx)("option",{value:"dedicated_professional",children:"Professional GPU"})]}):(0,o.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"var(--ifm-color-emphasis-100)",borderRadius:"4px"},children:y||"Not set"})]}),(0,o.jsxs)("div",{className:a.A.formGroup,children:[(0,o.jsx)("label",{children:"Hardware Budget"}),l?(0,o.jsxs)("select",{value:w,onChange:e=>A(e.target.value),required:!0,children:[(0,o.jsx)("option",{value:"simulation_only",children:"Simulation Only"}),(0,o.jsx)("option",{value:"budget_hardware",children:"Budget Hardware"}),(0,o.jsx)("option",{value:"research_grade",children:"Research Grade"})]}):(0,o.jsx)("div",{style:{padding:"0.75rem",backgroundColor:"var(--ifm-color-emphasis-100)",borderRadius:"4px"},children:w||"Not set"})]}),(0,o.jsx)("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{type:"submit",className:a.A.submitButton,disabled:u,style:{flex:1},children:u?"Saving...":"Save Changes"}),(0,o.jsx)("button",{type:"button",onClick:()=>{d(!1),g(null),r&&(v(r.python_skill||""),b(r.ros_experience||""),_(r.linux_familiarity||""),S(r.gpu_access||""),A(r.budget_tier||""))},className:a.A.submitButton,style:{flex:1,backgroundColor:"var(--ifm-color-emphasis-400)"},children:"Cancel"})]}):(0,o.jsx)("button",{type:"button",onClick:()=>d(!0),className:a.A.submitButton,children:"Edit Profile"})})]})]})}function d(){return(0,o.jsx)(t.O,{children:(0,o.jsx)(n.A,{title:"Your Profile",description:"Manage your personalization settings",children:(0,o.jsx)("main",{style:{minHeight:"70vh",paddingTop:"2rem",paddingBottom:"2rem"},children:(0,o.jsx)(l,{})})})})}}}]);